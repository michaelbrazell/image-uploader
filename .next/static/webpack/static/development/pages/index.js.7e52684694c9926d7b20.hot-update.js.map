{"version":3,"file":"static/webpack/static/development/pages/index.js.7e52684694c9926d7b20.hot-update.js","sources":["webpack:///./node_modules/@uppy/companion-client/lib/Provider.js","webpack:///./node_modules/@uppy/companion-client/lib/RequestClient.js","webpack:///./node_modules/@uppy/companion-client/lib/Socket.js","webpack:///./node_modules/@uppy/companion-client/lib/index.js","webpack:///./node_modules/@uppy/tus/lib/index.js","webpack:///./node_modules/@uppy/utils/lib/emitSocketProgress.js","webpack:///./node_modules/@uppy/utils/lib/getSocketHost.js","webpack:///./node_modules/@uppy/utils/lib/limitPromises.js","webpack:///./node_modules/@uppy/utils/lib/settle.js","webpack:///./node_modules/extend/index.js","webpack:///./node_modules/resolve-url/resolve-url.js","webpack:///./node_modules/tus-js-client/lib.es5/browser/base64.js","webpack:///./node_modules/tus-js-client/lib.es5/browser/request.js","webpack:///./node_modules/tus-js-client/lib.es5/browser/source.js","webpack:///./node_modules/tus-js-client/lib.es5/browser/storage.js","webpack:///./node_modules/tus-js-client/lib.es5/error.js","webpack:///./node_modules/tus-js-client/lib.es5/fingerprint.js","webpack:///./node_modules/tus-js-client/lib.es5/index.js","webpack:///./node_modules/tus-js-client/lib.es5/upload.js","webpack:///./pages/index.js"],"sourcesContent":["'use strict';\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar RequestClient = require('./RequestClient');\n\nvar _getName = function _getName(id) {\n  return id.split('-').map(function (s) {\n    return s.charAt(0).toUpperCase() + s.slice(1);\n  }).join(' ');\n};\n\nmodule.exports = function (_RequestClient) {\n  _inherits(Provider, _RequestClient);\n\n  function Provider(uppy, opts) {\n    _classCallCheck(this, Provider);\n\n    var _this = _possibleConstructorReturn(this, _RequestClient.call(this, uppy, opts));\n\n    _this.provider = opts.provider;\n    _this.id = _this.provider;\n    _this.authProvider = opts.authProvider || _this.provider;\n    _this.name = _this.opts.name || _getName(_this.id);\n    _this.tokenKey = 'companion-' + _this.id + '-auth-token';\n    return _this;\n  }\n\n  // @todo(i.olarewaju) consider whether or not this method should be exposed\n  Provider.prototype.setAuthToken = function setAuthToken(token) {\n    // @todo(i.olarewaju) add fallback for OOM storage\n    localStorage.setItem(this.tokenKey, token);\n  };\n\n  Provider.prototype.checkAuth = function checkAuth() {\n    return this.get(this.id + '/authorized').then(function (payload) {\n      return payload.authenticated;\n    });\n  };\n\n  Provider.prototype.authUrl = function authUrl() {\n    return this.hostname + '/' + this.id + '/connect';\n  };\n\n  Provider.prototype.fileUrl = function fileUrl(id) {\n    return this.hostname + '/' + this.id + '/get/' + id;\n  };\n\n  Provider.prototype.list = function list(directory) {\n    return this.get(this.id + '/list/' + (directory || ''));\n  };\n\n  Provider.prototype.logout = function logout() {\n    var _this2 = this;\n\n    var redirect = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : location.href;\n\n    return this.get(this.id + '/logout?redirect=' + redirect).then(function (res) {\n      localStorage.removeItem(_this2.tokenKey);\n      return res;\n    });\n  };\n\n  Provider.initPlugin = function initPlugin(plugin, opts, defaultOpts) {\n    plugin.type = 'acquirer';\n    plugin.files = [];\n    if (defaultOpts) {\n      plugin.opts = _extends({}, defaultOpts, opts);\n    }\n    if (opts.serverPattern) {\n      var pattern = opts.serverPattern;\n      // validate serverPattern param\n      if (typeof pattern !== 'string' && !Array.isArray(pattern) && !(pattern instanceof RegExp)) {\n        throw new TypeError(plugin.id + ': the option \"serverPattern\" must be one of string, Array, RegExp');\n      }\n      plugin.opts.serverPattern = pattern;\n    } else {\n      // does not start with https://\n      if (/^(?!https?:\\/\\/).*$/.test(opts.serverUrl)) {\n        plugin.opts.serverPattern = location.protocol + '//' + opts.serverUrl.replace(/^\\/\\//, '');\n      } else {\n        plugin.opts.serverPattern = opts.serverUrl;\n      }\n    }\n  };\n\n  _createClass(Provider, [{\n    key: 'defaultHeaders',\n    get: function get() {\n      return _extends({}, _RequestClient.prototype.defaultHeaders, { 'uppy-auth-token': localStorage.getItem(this.tokenKey) });\n    }\n  }]);\n\n  return Provider;\n}(RequestClient);","'use strict';\n\n// Remove the trailing slash so we can always safely append /xyz.\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction stripSlash(url) {\n  return url.replace(/\\/$/, '');\n}\n\nmodule.exports = function () {\n  function RequestClient(uppy, opts) {\n    _classCallCheck(this, RequestClient);\n\n    this.uppy = uppy;\n    this.opts = opts;\n    this.onReceiveResponse = this.onReceiveResponse.bind(this);\n  }\n\n  RequestClient.prototype.onReceiveResponse = function onReceiveResponse(response) {\n    var state = this.uppy.getState();\n    var companion = state.companion || {};\n    var host = this.opts.serverUrl;\n    var headers = response.headers;\n    // Store the self-identified domain name for the Companion instance we just hit.\n    if (headers.has('i-am') && headers.get('i-am') !== companion[host]) {\n      var _extends2;\n\n      this.uppy.setState({\n        companion: _extends({}, companion, (_extends2 = {}, _extends2[host] = headers.get('i-am'), _extends2))\n      });\n    }\n    return response;\n  };\n\n  RequestClient.prototype._getUrl = function _getUrl(url) {\n    if (/^(https?:|)\\/\\//.test(url)) {\n      return url;\n    }\n    return this.hostname + '/' + url;\n  };\n\n  RequestClient.prototype.get = function get(path) {\n    var _this = this;\n\n    return fetch(this._getUrl(path), {\n      method: 'get',\n      headers: this.headers,\n      credentials: 'same-origin'\n    })\n    // @todo validate response status before calling json\n    .then(this.onReceiveResponse).then(function (res) {\n      return res.json();\n    }).catch(function (err) {\n      throw new Error('Could not get ' + _this._getUrl(path) + '. ' + err);\n    });\n  };\n\n  RequestClient.prototype.post = function post(path, data) {\n    var _this2 = this;\n\n    return fetch(this._getUrl(path), {\n      method: 'post',\n      headers: this.headers,\n      credentials: 'same-origin',\n      body: JSON.stringify(data)\n    }).then(this.onReceiveResponse).then(function (res) {\n      if (res.status < 200 || res.status > 300) {\n        throw new Error('Could not post ' + _this2._getUrl(path) + '. ' + res.statusText);\n      }\n      return res.json();\n    }).catch(function (err) {\n      throw new Error('Could not post ' + _this2._getUrl(path) + '. ' + err);\n    });\n  };\n\n  RequestClient.prototype.delete = function _delete(path, data) {\n    var _this3 = this;\n\n    return fetch(this.hostname + '/' + path, {\n      method: 'delete',\n      headers: this.headers,\n      credentials: 'same-origin',\n      body: data ? JSON.stringify(data) : null\n    }).then(this.onReceiveResponse)\n    // @todo validate response status before calling json\n    .then(function (res) {\n      return res.json();\n    }).catch(function (err) {\n      throw new Error('Could not delete ' + _this3._getUrl(path) + '. ' + err);\n    });\n  };\n\n  _createClass(RequestClient, [{\n    key: 'hostname',\n    get: function get() {\n      var _uppy$getState = this.uppy.getState(),\n          companion = _uppy$getState.companion;\n\n      var host = this.opts.serverUrl;\n      return stripSlash(companion && companion[host] ? companion[host] : host);\n    }\n  }, {\n    key: 'defaultHeaders',\n    get: function get() {\n      return {\n        'Accept': 'application/json',\n        'Content-Type': 'application/json'\n      };\n    }\n  }, {\n    key: 'headers',\n    get: function get() {\n      return _extends({}, this.defaultHeaders, this.opts.serverHeaders || {});\n    }\n  }]);\n\n  return RequestClient;\n}();","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar ee = require('namespace-emitter');\n\nmodule.exports = function () {\n  function UppySocket(opts) {\n    var _this = this;\n\n    _classCallCheck(this, UppySocket);\n\n    this.queued = [];\n    this.isOpen = false;\n    this.socket = new WebSocket(opts.target);\n    this.emitter = ee();\n\n    this.socket.onopen = function (e) {\n      _this.isOpen = true;\n\n      while (_this.queued.length > 0 && _this.isOpen) {\n        var first = _this.queued[0];\n        _this.send(first.action, first.payload);\n        _this.queued = _this.queued.slice(1);\n      }\n    };\n\n    this.socket.onclose = function (e) {\n      _this.isOpen = false;\n    };\n\n    this._handleMessage = this._handleMessage.bind(this);\n\n    this.socket.onmessage = this._handleMessage;\n\n    this.close = this.close.bind(this);\n    this.emit = this.emit.bind(this);\n    this.on = this.on.bind(this);\n    this.once = this.once.bind(this);\n    this.send = this.send.bind(this);\n  }\n\n  UppySocket.prototype.close = function close() {\n    return this.socket.close();\n  };\n\n  UppySocket.prototype.send = function send(action, payload) {\n    // attach uuid\n\n    if (!this.isOpen) {\n      this.queued.push({ action: action, payload: payload });\n      return;\n    }\n\n    this.socket.send(JSON.stringify({\n      action: action,\n      payload: payload\n    }));\n  };\n\n  UppySocket.prototype.on = function on(action, handler) {\n    this.emitter.on(action, handler);\n  };\n\n  UppySocket.prototype.emit = function emit(action, payload) {\n    this.emitter.emit(action, payload);\n  };\n\n  UppySocket.prototype.once = function once(action, handler) {\n    this.emitter.once(action, handler);\n  };\n\n  UppySocket.prototype._handleMessage = function _handleMessage(e) {\n    try {\n      var message = JSON.parse(e.data);\n      this.emit(message.action, message.payload);\n    } catch (err) {\n      console.log(err);\n    }\n  };\n\n  return UppySocket;\n}();","'use-strict';\n/**\n * Manages communications with Companion\n */\n\nvar RequestClient = require('./RequestClient');\nvar Provider = require('./Provider');\nvar Socket = require('./Socket');\n\nmodule.exports = {\n  RequestClient: RequestClient,\n  Provider: Provider,\n  Socket: Socket\n};","var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar _require = require('@uppy/core'),\n    Plugin = _require.Plugin;\n\nvar tus = require('tus-js-client');\n\nvar _require2 = require('@uppy/companion-client'),\n    Provider = _require2.Provider,\n    RequestClient = _require2.RequestClient,\n    Socket = _require2.Socket;\n\nvar emitSocketProgress = require('@uppy/utils/lib/emitSocketProgress');\nvar getSocketHost = require('@uppy/utils/lib/getSocketHost');\nvar settle = require('@uppy/utils/lib/settle');\nvar limitPromises = require('@uppy/utils/lib/limitPromises');\n\n// Extracted from https://github.com/tus/tus-js-client/blob/master/lib/upload.js#L13\n// excepted we removed 'fingerprint' key to avoid adding more dependencies\nvar tusDefaultOptions = {\n  endpoint: '',\n  resume: true,\n  onProgress: null,\n  onChunkComplete: null,\n  onSuccess: null,\n  onError: null,\n  headers: {},\n  chunkSize: Infinity,\n  withCredentials: false,\n  uploadUrl: null,\n  uploadSize: null,\n  overridePatchMethod: false,\n  retryDelays: null\n\n  /**\n   * Create a wrapper around an event emitter with a `remove` method to remove\n   * all events that were added using the wrapped emitter.\n   */\n};function createEventTracker(emitter) {\n  var events = [];\n  return {\n    on: function on(event, fn) {\n      events.push([event, fn]);\n      return emitter.on(event, fn);\n    },\n    remove: function remove() {\n      events.forEach(function (_ref) {\n        var event = _ref[0],\n            fn = _ref[1];\n\n        emitter.off(event, fn);\n      });\n    }\n  };\n}\n\n/**\n * Tus resumable file uploader\n *\n */\nmodule.exports = function (_Plugin) {\n  _inherits(Tus, _Plugin);\n\n  function Tus(uppy, opts) {\n    _classCallCheck(this, Tus);\n\n    var _this = _possibleConstructorReturn(this, _Plugin.call(this, uppy, opts));\n\n    _this.type = 'uploader';\n    _this.id = 'Tus';\n    _this.title = 'Tus';\n\n    // set default options\n    var defaultOptions = {\n      resume: true,\n      autoRetry: true,\n      useFastRemoteRetry: true,\n      limit: 0,\n      retryDelays: [0, 1000, 3000, 5000]\n\n      // merge default options with the ones set by user\n    };_this.opts = _extends({}, defaultOptions, opts);\n\n    // Simultaneous upload limiting is shared across all uploads with this plugin.\n    if (typeof _this.opts.limit === 'number' && _this.opts.limit !== 0) {\n      _this.limitUploads = limitPromises(_this.opts.limit);\n    } else {\n      _this.limitUploads = function (fn) {\n        return fn;\n      };\n    }\n\n    _this.uploaders = Object.create(null);\n    _this.uploaderEvents = Object.create(null);\n    _this.uploaderSockets = Object.create(null);\n\n    _this.handleResetProgress = _this.handleResetProgress.bind(_this);\n    _this.handleUpload = _this.handleUpload.bind(_this);\n    return _this;\n  }\n\n  Tus.prototype.handleResetProgress = function handleResetProgress() {\n    var files = _extends({}, this.uppy.getState().files);\n    Object.keys(files).forEach(function (fileID) {\n      // Only clone the file object if it has a Tus `uploadUrl` attached.\n      if (files[fileID].tus && files[fileID].tus.uploadUrl) {\n        var tusState = _extends({}, files[fileID].tus);\n        delete tusState.uploadUrl;\n        files[fileID] = _extends({}, files[fileID], { tus: tusState });\n      }\n    });\n\n    this.uppy.setState({ files: files });\n  };\n\n  /**\n   * Clean up all references for a file's upload: the tus.Upload instance,\n   * any events related to the file, and the Companion WebSocket connection.\n   */\n\n\n  Tus.prototype.resetUploaderReferences = function resetUploaderReferences(fileID) {\n    if (this.uploaders[fileID]) {\n      this.uploaders[fileID].abort();\n      this.uploaders[fileID] = null;\n    }\n    if (this.uploaderEvents[fileID]) {\n      this.uploaderEvents[fileID].remove();\n      this.uploaderEvents[fileID] = null;\n    }\n    if (this.uploaderSockets[fileID]) {\n      this.uploaderSockets[fileID].close();\n      this.uploaderSockets[fileID] = null;\n    }\n  };\n\n  /**\n   * Create a new Tus upload\n   *\n   * @param {object} file for use with upload\n   * @param {integer} current file in a queue\n   * @param {integer} total number of files in a queue\n   * @returns {Promise}\n   */\n\n\n  Tus.prototype.upload = function upload(file, current, total) {\n    var _this2 = this;\n\n    this.resetUploaderReferences(file.id);\n\n    // Create a new tus upload\n    return new Promise(function (resolve, reject) {\n      var optsTus = _extends({}, tusDefaultOptions, _this2.opts,\n      // Install file-specific upload overrides.\n      file.tus || {});\n\n      optsTus.onError = function (err) {\n        _this2.uppy.log(err);\n        _this2.uppy.emit('upload-error', file, err);\n        err.message = 'Failed because: ' + err.message;\n\n        _this2.resetUploaderReferences(file.id);\n        reject(err);\n      };\n\n      optsTus.onProgress = function (bytesUploaded, bytesTotal) {\n        _this2.onReceiveUploadUrl(file, upload.url);\n        _this2.uppy.emit('upload-progress', file, {\n          uploader: _this2,\n          bytesUploaded: bytesUploaded,\n          bytesTotal: bytesTotal\n        });\n      };\n\n      optsTus.onSuccess = function () {\n        _this2.uppy.emit('upload-success', file, upload, upload.url);\n\n        if (upload.url) {\n          _this2.uppy.log('Download ' + upload.file.name + ' from ' + upload.url);\n        }\n\n        _this2.resetUploaderReferences(file.id);\n        resolve(upload);\n      };\n\n      var copyProp = function copyProp(obj, srcProp, destProp) {\n        if (Object.prototype.hasOwnProperty.call(obj, srcProp) && !Object.prototype.hasOwnProperty.call(obj, destProp)) {\n          obj[destProp] = obj[srcProp];\n        }\n      };\n\n      // tusd uses metadata fields 'filetype' and 'filename'\n      var meta = _extends({}, file.meta);\n      copyProp(meta, 'type', 'filetype');\n      copyProp(meta, 'name', 'filename');\n      optsTus.metadata = meta;\n\n      var upload = new tus.Upload(file.data, optsTus);\n      _this2.uploaders[file.id] = upload;\n      _this2.uploaderEvents[file.id] = createEventTracker(_this2.uppy);\n\n      _this2.onFileRemove(file.id, function (targetFileID) {\n        _this2.resetUploaderReferences(file.id);\n        resolve('upload ' + targetFileID + ' was removed');\n      });\n\n      _this2.onPause(file.id, function (isPaused) {\n        if (isPaused) {\n          upload.abort();\n        } else {\n          upload.start();\n        }\n      });\n\n      _this2.onPauseAll(file.id, function () {\n        upload.abort();\n      });\n\n      _this2.onCancelAll(file.id, function () {\n        _this2.resetUploaderReferences(file.id);\n      });\n\n      _this2.onResumeAll(file.id, function () {\n        if (file.error) {\n          upload.abort();\n        }\n        upload.start();\n      });\n\n      if (!file.isPaused) {\n        upload.start();\n      }\n    });\n  };\n\n  Tus.prototype.uploadRemote = function uploadRemote(file, current, total) {\n    var _this3 = this;\n\n    this.resetUploaderReferences(file.id);\n\n    var opts = _extends({}, this.opts,\n    // Install file-specific upload overrides.\n    file.tus || {});\n\n    return new Promise(function (resolve, reject) {\n      _this3.uppy.log(file.remote.url);\n      if (file.serverToken) {\n        return _this3.connectToServerSocket(file).then(function () {\n          return resolve();\n        }).catch(reject);\n      }\n\n      _this3.uppy.emit('upload-started', file);\n      var Client = file.remote.providerOptions.provider ? Provider : RequestClient;\n      var client = new Client(_this3.uppy, file.remote.providerOptions);\n      client.post(file.remote.url, _extends({}, file.remote.body, {\n        endpoint: opts.endpoint,\n        uploadUrl: opts.uploadUrl,\n        protocol: 'tus',\n        size: file.data.size,\n        metadata: file.meta\n      })).then(function (res) {\n        _this3.uppy.setFileState(file.id, { serverToken: res.token });\n        file = _this3.uppy.getFile(file.id);\n        return file;\n      }).then(function (file) {\n        return _this3.connectToServerSocket(file);\n      }).then(function () {\n        resolve();\n      }).catch(function (err) {\n        reject(new Error(err));\n      });\n    });\n  };\n\n  Tus.prototype.connectToServerSocket = function connectToServerSocket(file) {\n    var _this4 = this;\n\n    return new Promise(function (resolve, reject) {\n      var token = file.serverToken;\n      var host = getSocketHost(file.remote.serverUrl);\n      var socket = new Socket({ target: host + '/api/' + token });\n      _this4.uploaderSockets[file.id] = socket;\n      _this4.uploaderEvents[file.id] = createEventTracker(_this4.uppy);\n\n      _this4.onFileRemove(file.id, function () {\n        socket.send('pause', {});\n        resolve('upload ' + file.id + ' was removed');\n      });\n\n      _this4.onPause(file.id, function (isPaused) {\n        isPaused ? socket.send('pause', {}) : socket.send('resume', {});\n      });\n\n      _this4.onPauseAll(file.id, function () {\n        return socket.send('pause', {});\n      });\n\n      _this4.onCancelAll(file.id, function () {\n        return socket.send('pause', {});\n      });\n\n      _this4.onResumeAll(file.id, function () {\n        if (file.error) {\n          socket.send('pause', {});\n        }\n        socket.send('resume', {});\n      });\n\n      _this4.onRetry(file.id, function () {\n        socket.send('pause', {});\n        socket.send('resume', {});\n      });\n\n      _this4.onRetryAll(file.id, function () {\n        socket.send('pause', {});\n        socket.send('resume', {});\n      });\n\n      if (file.isPaused) {\n        socket.send('pause', {});\n      }\n\n      socket.on('progress', function (progressData) {\n        return emitSocketProgress(_this4, progressData, file);\n      });\n\n      socket.on('error', function (errData) {\n        var message = errData.error.message;\n\n        var error = _extends(new Error(message), { cause: errData.error });\n\n        // If the remote retry optimisation should not be used,\n        // close the socket—this will tell companion to clear state and delete the file.\n        if (!_this4.opts.useFastRemoteRetry) {\n          _this4.resetUploaderReferences(file.id);\n          // Remove the serverToken so that a new one will be created for the retry.\n          _this4.uppy.setFileState(file.id, {\n            serverToken: null\n          });\n        }\n\n        _this4.uppy.emit('upload-error', file, error);\n        reject(error);\n      });\n\n      socket.on('success', function (data) {\n        _this4.uppy.emit('upload-success', file, data, data.url);\n        _this4.resetUploaderReferences(file.id);\n        resolve();\n      });\n    });\n  };\n\n  /**\n   * Store the uploadUrl on the file options, so that when Golden Retriever\n   * restores state, we will continue uploading to the correct URL.\n   */\n\n\n  Tus.prototype.onReceiveUploadUrl = function onReceiveUploadUrl(file, uploadURL) {\n    var currentFile = this.uppy.getFile(file.id);\n    if (!currentFile) return;\n    // Only do the update if we didn't have an upload URL yet.\n    if (!currentFile.tus || currentFile.tus.uploadUrl !== uploadURL) {\n      this.uppy.log('[Tus] Storing upload url');\n      this.uppy.setFileState(currentFile.id, {\n        tus: _extends({}, currentFile.tus, {\n          uploadUrl: uploadURL\n        })\n      });\n    }\n  };\n\n  Tus.prototype.onFileRemove = function onFileRemove(fileID, cb) {\n    this.uploaderEvents[fileID].on('file-removed', function (file) {\n      if (fileID === file.id) cb(file.id);\n    });\n  };\n\n  Tus.prototype.onPause = function onPause(fileID, cb) {\n    this.uploaderEvents[fileID].on('upload-pause', function (targetFileID, isPaused) {\n      if (fileID === targetFileID) {\n        // const isPaused = this.uppy.pauseResume(fileID)\n        cb(isPaused);\n      }\n    });\n  };\n\n  Tus.prototype.onRetry = function onRetry(fileID, cb) {\n    this.uploaderEvents[fileID].on('upload-retry', function (targetFileID) {\n      if (fileID === targetFileID) {\n        cb();\n      }\n    });\n  };\n\n  Tus.prototype.onRetryAll = function onRetryAll(fileID, cb) {\n    var _this5 = this;\n\n    this.uploaderEvents[fileID].on('retry-all', function (filesToRetry) {\n      if (!_this5.uppy.getFile(fileID)) return;\n      cb();\n    });\n  };\n\n  Tus.prototype.onPauseAll = function onPauseAll(fileID, cb) {\n    var _this6 = this;\n\n    this.uploaderEvents[fileID].on('pause-all', function () {\n      if (!_this6.uppy.getFile(fileID)) return;\n      cb();\n    });\n  };\n\n  Tus.prototype.onCancelAll = function onCancelAll(fileID, cb) {\n    var _this7 = this;\n\n    this.uploaderEvents[fileID].on('cancel-all', function () {\n      if (!_this7.uppy.getFile(fileID)) return;\n      cb();\n    });\n  };\n\n  Tus.prototype.onResumeAll = function onResumeAll(fileID, cb) {\n    var _this8 = this;\n\n    this.uploaderEvents[fileID].on('resume-all', function () {\n      if (!_this8.uppy.getFile(fileID)) return;\n      cb();\n    });\n  };\n\n  Tus.prototype.uploadFiles = function uploadFiles(files) {\n    var _this9 = this;\n\n    var actions = files.map(function (file, i) {\n      var current = parseInt(i, 10) + 1;\n      var total = files.length;\n\n      if (file.error) {\n        return function () {\n          return Promise.reject(new Error(file.error));\n        };\n      } else if (file.isRemote) {\n        // We emit upload-started here, so that it's also emitted for files\n        // that have to wait due to the `limit` option.\n        _this9.uppy.emit('upload-started', file);\n        return _this9.uploadRemote.bind(_this9, file, current, total);\n      } else {\n        _this9.uppy.emit('upload-started', file);\n        return _this9.upload.bind(_this9, file, current, total);\n      }\n    });\n\n    var promises = actions.map(function (action) {\n      var limitedAction = _this9.limitUploads(action);\n      return limitedAction();\n    });\n\n    return settle(promises);\n  };\n\n  Tus.prototype.handleUpload = function handleUpload(fileIDs) {\n    var _this10 = this;\n\n    if (fileIDs.length === 0) {\n      this.uppy.log('Tus: no files to upload!');\n      return Promise.resolve();\n    }\n\n    this.uppy.log('Tus is uploading...');\n    var filesToUpload = fileIDs.map(function (fileID) {\n      return _this10.uppy.getFile(fileID);\n    });\n\n    return this.uploadFiles(filesToUpload).then(function () {\n      return null;\n    });\n  };\n\n  Tus.prototype.install = function install() {\n    this.uppy.setState({\n      capabilities: _extends({}, this.uppy.getState().capabilities, {\n        resumableUploads: true\n      })\n    });\n    this.uppy.addUploader(this.handleUpload);\n\n    this.uppy.on('reset-progress', this.handleResetProgress);\n\n    if (this.opts.autoRetry) {\n      this.uppy.on('back-online', this.uppy.retryAll);\n    }\n  };\n\n  Tus.prototype.uninstall = function uninstall() {\n    this.uppy.setState({\n      capabilities: _extends({}, this.uppy.getState().capabilities, {\n        resumableUploads: false\n      })\n    });\n    this.uppy.removeUploader(this.handleUpload);\n\n    if (this.opts.autoRetry) {\n      this.uppy.off('back-online', this.uppy.retryAll);\n    }\n  };\n\n  return Tus;\n}(Plugin);","var throttle = require('lodash.throttle');\n\nfunction _emitSocketProgress(uploader, progressData, file) {\n  var progress = progressData.progress,\n      bytesUploaded = progressData.bytesUploaded,\n      bytesTotal = progressData.bytesTotal;\n\n  if (progress) {\n    uploader.uppy.log('Upload progress: ' + progress);\n    uploader.uppy.emit('upload-progress', file, {\n      uploader: uploader,\n      bytesUploaded: bytesUploaded,\n      bytesTotal: bytesTotal\n    });\n  }\n}\n\nmodule.exports = throttle(_emitSocketProgress, 300, { leading: true, trailing: true });","module.exports = function getSocketHost(url) {\n  // get the host domain\n  var regex = /^(?:https?:\\/\\/|\\/\\/)?(?:[^@\\n]+@)?(?:www\\.)?([^\\n]+)/;\n  var host = regex.exec(url)[1];\n  var socketProtocol = location.protocol === 'https:' ? 'wss' : 'ws';\n\n  return socketProtocol + '://' + host;\n};","/**\n * Limit the amount of simultaneously pending Promises.\n * Returns a function that, when passed a function `fn`,\n * will make sure that at most `limit` calls to `fn` are pending.\n *\n * @param {number} limit\n * @return {function()}\n */\nmodule.exports = function limitPromises(limit) {\n  var pending = 0;\n  var queue = [];\n  return function (fn) {\n    return function () {\n      for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n\n      var call = function call() {\n        pending++;\n        var promise = fn.apply(undefined, args);\n        promise.then(onfinish, onfinish);\n        return promise;\n      };\n\n      if (pending >= limit) {\n        return new Promise(function (resolve, reject) {\n          queue.push(function () {\n            call().then(resolve, reject);\n          });\n        });\n      }\n      return call();\n    };\n  };\n  function onfinish() {\n    pending--;\n    var next = queue.shift();\n    if (next) next();\n  }\n};","module.exports = function settle(promises) {\n  var resolutions = [];\n  var rejections = [];\n  function resolved(value) {\n    resolutions.push(value);\n  }\n  function rejected(error) {\n    rejections.push(error);\n  }\n\n  var wait = Promise.all(promises.map(function (promise) {\n    return promise.then(resolved, rejected);\n  }));\n\n  return wait.then(function () {\n    return {\n      successful: resolutions,\n      failed: rejections\n    };\n  });\n};","'use strict';\n\nvar hasOwn = Object.prototype.hasOwnProperty;\nvar toStr = Object.prototype.toString;\nvar defineProperty = Object.defineProperty;\nvar gOPD = Object.getOwnPropertyDescriptor;\n\nvar isArray = function isArray(arr) {\n\tif (typeof Array.isArray === 'function') {\n\t\treturn Array.isArray(arr);\n\t}\n\n\treturn toStr.call(arr) === '[object Array]';\n};\n\nvar isPlainObject = function isPlainObject(obj) {\n\tif (!obj || toStr.call(obj) !== '[object Object]') {\n\t\treturn false;\n\t}\n\n\tvar hasOwnConstructor = hasOwn.call(obj, 'constructor');\n\tvar hasIsPrototypeOf = obj.constructor && obj.constructor.prototype && hasOwn.call(obj.constructor.prototype, 'isPrototypeOf');\n\t// Not own constructor property must be Object\n\tif (obj.constructor && !hasOwnConstructor && !hasIsPrototypeOf) {\n\t\treturn false;\n\t}\n\n\t// Own properties are enumerated firstly, so to speed up,\n\t// if last one is own, then all properties are own.\n\tvar key;\n\tfor (key in obj) { /**/ }\n\n\treturn typeof key === 'undefined' || hasOwn.call(obj, key);\n};\n\n// If name is '__proto__', and Object.defineProperty is available, define __proto__ as an own property on target\nvar setProperty = function setProperty(target, options) {\n\tif (defineProperty && options.name === '__proto__') {\n\t\tdefineProperty(target, options.name, {\n\t\t\tenumerable: true,\n\t\t\tconfigurable: true,\n\t\t\tvalue: options.newValue,\n\t\t\twritable: true\n\t\t});\n\t} else {\n\t\ttarget[options.name] = options.newValue;\n\t}\n};\n\n// Return undefined instead of __proto__ if '__proto__' is not an own property\nvar getProperty = function getProperty(obj, name) {\n\tif (name === '__proto__') {\n\t\tif (!hasOwn.call(obj, name)) {\n\t\t\treturn void 0;\n\t\t} else if (gOPD) {\n\t\t\t// In early versions of node, obj['__proto__'] is buggy when obj has\n\t\t\t// __proto__ as an own property. Object.getOwnPropertyDescriptor() works.\n\t\t\treturn gOPD(obj, name).value;\n\t\t}\n\t}\n\n\treturn obj[name];\n};\n\nmodule.exports = function extend() {\n\tvar options, name, src, copy, copyIsArray, clone;\n\tvar target = arguments[0];\n\tvar i = 1;\n\tvar length = arguments.length;\n\tvar deep = false;\n\n\t// Handle a deep copy situation\n\tif (typeof target === 'boolean') {\n\t\tdeep = target;\n\t\ttarget = arguments[1] || {};\n\t\t// skip the boolean and the target\n\t\ti = 2;\n\t}\n\tif (target == null || (typeof target !== 'object' && typeof target !== 'function')) {\n\t\ttarget = {};\n\t}\n\n\tfor (; i < length; ++i) {\n\t\toptions = arguments[i];\n\t\t// Only deal with non-null/undefined values\n\t\tif (options != null) {\n\t\t\t// Extend the base object\n\t\t\tfor (name in options) {\n\t\t\t\tsrc = getProperty(target, name);\n\t\t\t\tcopy = getProperty(options, name);\n\n\t\t\t\t// Prevent never-ending loop\n\t\t\t\tif (target !== copy) {\n\t\t\t\t\t// Recurse if we're merging plain objects or arrays\n\t\t\t\t\tif (deep && copy && (isPlainObject(copy) || (copyIsArray = isArray(copy)))) {\n\t\t\t\t\t\tif (copyIsArray) {\n\t\t\t\t\t\t\tcopyIsArray = false;\n\t\t\t\t\t\t\tclone = src && isArray(src) ? src : [];\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tclone = src && isPlainObject(src) ? src : {};\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// Never move original objects, clone them\n\t\t\t\t\t\tsetProperty(target, { name: name, newValue: extend(deep, clone, copy) });\n\n\t\t\t\t\t// Don't bring in undefined values\n\t\t\t\t\t} else if (typeof copy !== 'undefined') {\n\t\t\t\t\t\tsetProperty(target, { name: name, newValue: copy });\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t// Return the modified object\n\treturn target;\n};\n","// Copyright 2014 Simon Lydell\r\n// X11 (“MIT”) Licensed. (See LICENSE.)\r\n\r\nvoid (function(root, factory) {\r\n  if (typeof define === \"function\" && define.amd) {\r\n    define(factory)\r\n  } else if (typeof exports === \"object\") {\r\n    module.exports = factory()\r\n  } else {\r\n    root.resolveUrl = factory()\r\n  }\r\n}(this, function() {\r\n\r\n  function resolveUrl(/* ...urls */) {\r\n    var numUrls = arguments.length\r\n\r\n    if (numUrls === 0) {\r\n      throw new Error(\"resolveUrl requires at least one argument; got none.\")\r\n    }\r\n\r\n    var base = document.createElement(\"base\")\r\n    base.href = arguments[0]\r\n\r\n    if (numUrls === 1) {\r\n      return base.href\r\n    }\r\n\r\n    var head = document.getElementsByTagName(\"head\")[0]\r\n    head.insertBefore(base, head.firstChild)\r\n\r\n    var a = document.createElement(\"a\")\r\n    var resolved\r\n\r\n    for (var index = 1; index < numUrls; index++) {\r\n      a.href = arguments[index]\r\n      resolved = a.href\r\n      base.href = resolved\r\n    }\r\n\r\n    head.removeChild(base)\r\n\r\n    return resolved\r\n  }\r\n\r\n  return resolveUrl\r\n\r\n}));\r\n","// Generated by Babel\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.encode = encode;\n/* global: window */\n\nvar _window = window;\nvar btoa = _window.btoa;\nfunction encode(data) {\n  return btoa(unescape(encodeURIComponent(data)));\n}\n\nvar isSupported = exports.isSupported = \"btoa\" in window;","// Generated by Babel\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.newRequest = newRequest;\nexports.resolveUrl = resolveUrl;\n\nvar _resolveUrl = require(\"resolve-url\");\n\nvar _resolveUrl2 = _interopRequireDefault(_resolveUrl);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction newRequest() {\n  return new window.XMLHttpRequest();\n} /* global window */\n\n\nfunction resolveUrl(origin, link) {\n  return (0, _resolveUrl2.default)(origin, link);\n}","// Generated by Babel\n\"use strict\";\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.getSource = getSource;\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar FileSource = function () {\n  function FileSource(file) {\n    _classCallCheck(this, FileSource);\n\n    this._file = file;\n    this.size = file.size;\n  }\n\n  _createClass(FileSource, [{\n    key: \"slice\",\n    value: function slice(start, end) {\n      return this._file.slice(start, end);\n    }\n  }, {\n    key: \"close\",\n    value: function close() {}\n  }]);\n\n  return FileSource;\n}();\n\nfunction getSource(input) {\n  // Since we emulate the Blob type in our tests (not all target browsers\n  // support it), we cannot use `instanceof` for testing whether the input value\n  // can be handled. Instead, we simply check is the slice() function and the\n  // size property are available.\n  if (typeof input.slice === \"function\" && typeof input.size !== \"undefined\") {\n    return new FileSource(input);\n  }\n\n  throw new Error(\"source object may only be an instance of File or Blob in this environment\");\n}","// Generated by Babel\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.setItem = setItem;\nexports.getItem = getItem;\nexports.removeItem = removeItem;\n/* global window, localStorage */\n\nvar hasStorage = false;\ntry {\n  hasStorage = \"localStorage\" in window;\n\n  // Attempt to store and read entries from the local storage to detect Private\n  // Mode on Safari on iOS (see #49)\n  var key = \"tusSupport\";\n  localStorage.setItem(key, localStorage.getItem(key));\n} catch (e) {\n  // If we try to access localStorage inside a sandboxed iframe, a SecurityError\n  // is thrown. When in private mode on iOS Safari, a QuotaExceededError is\n  // thrown (see #49)\n  if (e.code === e.SECURITY_ERR || e.code === e.QUOTA_EXCEEDED_ERR) {\n    hasStorage = false;\n  } else {\n    throw e;\n  }\n}\n\nvar canStoreURLs = exports.canStoreURLs = hasStorage;\n\nfunction setItem(key, value) {\n  if (!hasStorage) return;\n  return localStorage.setItem(key, value);\n}\n\nfunction getItem(key) {\n  if (!hasStorage) return;\n  return localStorage.getItem(key);\n}\n\nfunction removeItem(key) {\n  if (!hasStorage) return;\n  return localStorage.removeItem(key);\n}","// Generated by Babel\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar DetailedError = function (_Error) {\n  _inherits(DetailedError, _Error);\n\n  function DetailedError(error) {\n    var causingErr = arguments.length <= 1 || arguments[1] === undefined ? null : arguments[1];\n    var xhr = arguments.length <= 2 || arguments[2] === undefined ? null : arguments[2];\n\n    _classCallCheck(this, DetailedError);\n\n    var _this = _possibleConstructorReturn(this, Object.getPrototypeOf(DetailedError).call(this, error.message));\n\n    _this.originalRequest = xhr;\n    _this.causingError = causingErr;\n\n    var message = error.message;\n    if (causingErr != null) {\n      message += \", caused by \" + causingErr.toString();\n    }\n    if (xhr != null) {\n      message += \", originated from request (response code: \" + xhr.status + \", response text: \" + xhr.responseText + \")\";\n    }\n    _this.message = message;\n    return _this;\n  }\n\n  return DetailedError;\n}(Error);\n\nexports.default = DetailedError;","// Generated by Babel\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = fingerprint;\n/**\n * Generate a fingerprint for a file which will be used the store the endpoint\n *\n * @param {File} file\n * @return {String}\n */\nfunction fingerprint(file, options) {\n  return [\"tus\", file.name, file.type, file.size, file.lastModified, options.endpoint].join(\"-\");\n}","// Generated by Babel\n\"use strict\";\n\nvar _upload = require(\"./upload\");\n\nvar _upload2 = _interopRequireDefault(_upload);\n\nvar _storage = require(\"./node/storage\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/* global window */\nvar defaultOptions = _upload2.default.defaultOptions;\n\n\nif (typeof window !== \"undefined\") {\n  // Browser environment using XMLHttpRequest\n  var _window = window;\n  var XMLHttpRequest = _window.XMLHttpRequest;\n  var Blob = _window.Blob;\n\n\n  var isSupported = XMLHttpRequest && Blob && typeof Blob.prototype.slice === \"function\";\n} else {\n  // Node.js environment using http module\n  var isSupported = true;\n}\n\n// The usage of the commonjs exporting syntax instead of the new ECMAScript\n// one is actually inteded and prevents weird behaviour if we are trying to\n// import this module in another module using Babel.\nmodule.exports = {\n  Upload: _upload2.default,\n  isSupported: isSupported,\n  canStoreURLs: _storage.canStoreURLs,\n  defaultOptions: defaultOptions\n};","// Generated by Babel\n\"use strict\";\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }(); /* global window */\n\n\n// We import the files used inside the Node environment which are rewritten\n// for browsers using the rules defined in the package.json\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _fingerprint = require(\"./fingerprint\");\n\nvar _fingerprint2 = _interopRequireDefault(_fingerprint);\n\nvar _error = require(\"./error\");\n\nvar _error2 = _interopRequireDefault(_error);\n\nvar _extend = require(\"extend\");\n\nvar _extend2 = _interopRequireDefault(_extend);\n\nvar _request = require(\"./node/request\");\n\nvar _source = require(\"./node/source\");\n\nvar _base = require(\"./node/base64\");\n\nvar Base64 = _interopRequireWildcard(_base);\n\nvar _storage = require(\"./node/storage\");\n\nvar Storage = _interopRequireWildcard(_storage);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar defaultOptions = {\n  endpoint: null,\n  fingerprint: _fingerprint2.default,\n  resume: true,\n  onProgress: null,\n  onChunkComplete: null,\n  onSuccess: null,\n  onError: null,\n  headers: {},\n  chunkSize: Infinity,\n  withCredentials: false,\n  uploadUrl: null,\n  uploadSize: null,\n  overridePatchMethod: false,\n  retryDelays: null,\n  removeFingerprintOnSuccess: false\n};\n\nvar Upload = function () {\n  function Upload(file, options) {\n    _classCallCheck(this, Upload);\n\n    this.options = (0, _extend2.default)(true, {}, defaultOptions, options);\n\n    // The underlying File/Blob object\n    this.file = file;\n\n    // The URL against which the file will be uploaded\n    this.url = null;\n\n    // The underlying XHR object for the current PATCH request\n    this._xhr = null;\n\n    // The fingerpinrt for the current file (set after start())\n    this._fingerprint = null;\n\n    // The offset used in the current PATCH request\n    this._offset = null;\n\n    // True if the current PATCH request has been aborted\n    this._aborted = false;\n\n    // The file's size in bytes\n    this._size = null;\n\n    // The Source object which will wrap around the given file and provides us\n    // with a unified interface for getting its size and slice chunks from its\n    // content allowing us to easily handle Files, Blobs, Buffers and Streams.\n    this._source = null;\n\n    // The current count of attempts which have been made. Null indicates none.\n    this._retryAttempt = 0;\n\n    // The timeout's ID which is used to delay the next retry\n    this._retryTimeout = null;\n\n    // The offset of the remote upload before the latest attempt was started.\n    this._offsetBeforeRetry = 0;\n  }\n\n  _createClass(Upload, [{\n    key: \"start\",\n    value: function start() {\n      var _this = this;\n\n      var file = this.file;\n\n      if (!file) {\n        this._emitError(new Error(\"tus: no file or stream to upload provided\"));\n        return;\n      }\n\n      if (!this.options.endpoint && !this.options.uploadUrl) {\n        this._emitError(new Error(\"tus: neither an endpoint or an upload URL is provided\"));\n        return;\n      }\n\n      var source = this._source = (0, _source.getSource)(file, this.options.chunkSize);\n\n      // Firstly, check if the caller has supplied a manual upload size or else\n      // we will use the calculated size by the source object.\n      if (this.options.uploadSize != null) {\n        var size = +this.options.uploadSize;\n        if (isNaN(size)) {\n          throw new Error(\"tus: cannot convert `uploadSize` option into a number\");\n        }\n\n        this._size = size;\n      } else {\n        var size = source.size;\n\n        // The size property will be null if we cannot calculate the file's size,\n        // for example if you handle a stream.\n        if (size == null) {\n          throw new Error(\"tus: cannot automatically derive upload's size from input and must be specified manually using the `uploadSize` option\");\n        }\n\n        this._size = size;\n      }\n\n      var retryDelays = this.options.retryDelays;\n      if (retryDelays != null) {\n        if (Object.prototype.toString.call(retryDelays) !== \"[object Array]\") {\n          throw new Error(\"tus: the `retryDelays` option must either be an array or null\");\n        } else {\n          (function () {\n            var errorCallback = _this.options.onError;\n            _this.options.onError = function (err) {\n              // Restore the original error callback which may have been set.\n              _this.options.onError = errorCallback;\n\n              // We will reset the attempt counter if\n              // - we were already able to connect to the server (offset != null) and\n              // - we were able to upload a small chunk of data to the server\n              var shouldResetDelays = _this._offset != null && _this._offset > _this._offsetBeforeRetry;\n              if (shouldResetDelays) {\n                _this._retryAttempt = 0;\n              }\n\n              var isOnline = true;\n              if (typeof window !== \"undefined\" && \"navigator\" in window && window.navigator.onLine === false) {\n                isOnline = false;\n              }\n\n              // We only attempt a retry if\n              // - we didn't exceed the maxium number of retries, yet, and\n              // - this error was caused by a request or it's response and\n              // - the error is not a client error (status 4xx) and\n              // - the browser does not indicate that we are offline\n              var shouldRetry = _this._retryAttempt < retryDelays.length && err.originalRequest != null && !inStatusCategory(err.originalRequest.status, 400) && isOnline;\n\n              if (!shouldRetry) {\n                _this._emitError(err);\n                return;\n              }\n\n              var delay = retryDelays[_this._retryAttempt++];\n\n              _this._offsetBeforeRetry = _this._offset;\n              _this.options.uploadUrl = _this.url;\n\n              _this._retryTimeout = setTimeout(function () {\n                _this.start();\n              }, delay);\n            };\n          })();\n        }\n      }\n\n      // Reset the aborted flag when the upload is started or else the\n      // _startUpload will stop before sending a request if the upload has been\n      // aborted previously.\n      this._aborted = false;\n\n      // The upload had been started previously and we should reuse this URL.\n      if (this.url != null) {\n        this._resumeUpload();\n        return;\n      }\n\n      // A URL has manually been specified, so we try to resume\n      if (this.options.uploadUrl != null) {\n        this.url = this.options.uploadUrl;\n        this._resumeUpload();\n        return;\n      }\n\n      // Try to find the endpoint for the file in the storage\n      if (this.options.resume) {\n        this._fingerprint = this.options.fingerprint(file, this.options);\n        var resumedUrl = Storage.getItem(this._fingerprint);\n\n        if (resumedUrl != null) {\n          this.url = resumedUrl;\n          this._resumeUpload();\n          return;\n        }\n      }\n\n      // An upload has not started for the file yet, so we start a new one\n      this._createUpload();\n    }\n  }, {\n    key: \"abort\",\n    value: function abort() {\n      if (this._xhr !== null) {\n        this._xhr.abort();\n        this._source.close();\n        this._aborted = true;\n      }\n\n      if (this._retryTimeout != null) {\n        clearTimeout(this._retryTimeout);\n        this._retryTimeout = null;\n      }\n    }\n  }, {\n    key: \"_emitXhrError\",\n    value: function _emitXhrError(xhr, err, causingErr) {\n      this._emitError(new _error2.default(err, causingErr, xhr));\n    }\n  }, {\n    key: \"_emitError\",\n    value: function _emitError(err) {\n      if (typeof this.options.onError === \"function\") {\n        this.options.onError(err);\n      } else {\n        throw err;\n      }\n    }\n  }, {\n    key: \"_emitSuccess\",\n    value: function _emitSuccess() {\n      if (typeof this.options.onSuccess === \"function\") {\n        this.options.onSuccess();\n      }\n    }\n\n    /**\n     * Publishes notification when data has been sent to the server. This\n     * data may not have been accepted by the server yet.\n     * @param  {number} bytesSent  Number of bytes sent to the server.\n     * @param  {number} bytesTotal Total number of bytes to be sent to the server.\n     */\n\n  }, {\n    key: \"_emitProgress\",\n    value: function _emitProgress(bytesSent, bytesTotal) {\n      if (typeof this.options.onProgress === \"function\") {\n        this.options.onProgress(bytesSent, bytesTotal);\n      }\n    }\n\n    /**\n     * Publishes notification when a chunk of data has been sent to the server\n     * and accepted by the server.\n     * @param  {number} chunkSize  Size of the chunk that was accepted by the\n     *                             server.\n     * @param  {number} bytesAccepted Total number of bytes that have been\n     *                                accepted by the server.\n     * @param  {number} bytesTotal Total number of bytes to be sent to the server.\n     */\n\n  }, {\n    key: \"_emitChunkComplete\",\n    value: function _emitChunkComplete(chunkSize, bytesAccepted, bytesTotal) {\n      if (typeof this.options.onChunkComplete === \"function\") {\n        this.options.onChunkComplete(chunkSize, bytesAccepted, bytesTotal);\n      }\n    }\n\n    /**\n     * Set the headers used in the request and the withCredentials property\n     * as defined in the options\n     *\n     * @param {XMLHttpRequest} xhr\n     */\n\n  }, {\n    key: \"_setupXHR\",\n    value: function _setupXHR(xhr) {\n      this._xhr = xhr;\n\n      xhr.setRequestHeader(\"Tus-Resumable\", \"1.0.0\");\n      var headers = this.options.headers;\n\n      for (var name in headers) {\n        xhr.setRequestHeader(name, headers[name]);\n      }\n\n      xhr.withCredentials = this.options.withCredentials;\n    }\n\n    /**\n     * Create a new upload using the creation extension by sending a POST\n     * request to the endpoint. After successful creation the file will be\n     * uploaded\n     *\n     * @api private\n     */\n\n  }, {\n    key: \"_createUpload\",\n    value: function _createUpload() {\n      var _this2 = this;\n\n      if (!this.options.endpoint) {\n        this._emitError(new Error(\"tus: unable to create upload because no endpoint is provided\"));\n        return;\n      }\n\n      var xhr = (0, _request.newRequest)();\n      xhr.open(\"POST\", this.options.endpoint, true);\n\n      xhr.onload = function () {\n        if (!inStatusCategory(xhr.status, 200)) {\n          _this2._emitXhrError(xhr, new Error(\"tus: unexpected response while creating upload\"));\n          return;\n        }\n\n        var location = xhr.getResponseHeader(\"Location\");\n        if (location == null) {\n          _this2._emitXhrError(xhr, new Error(\"tus: invalid or missing Location header\"));\n          return;\n        }\n\n        _this2.url = (0, _request.resolveUrl)(_this2.options.endpoint, location);\n\n        if (_this2._size === 0) {\n          // Nothing to upload and file was successfully created\n          _this2._emitSuccess();\n          _this2._source.close();\n          return;\n        }\n\n        if (_this2.options.resume) {\n          Storage.setItem(_this2._fingerprint, _this2.url);\n        }\n\n        _this2._offset = 0;\n        _this2._startUpload();\n      };\n\n      xhr.onerror = function (err) {\n        _this2._emitXhrError(xhr, new Error(\"tus: failed to create upload\"), err);\n      };\n\n      this._setupXHR(xhr);\n      xhr.setRequestHeader(\"Upload-Length\", this._size);\n\n      // Add metadata if values have been added\n      var metadata = encodeMetadata(this.options.metadata);\n      if (metadata !== \"\") {\n        xhr.setRequestHeader(\"Upload-Metadata\", metadata);\n      }\n\n      xhr.send(null);\n    }\n\n    /*\n     * Try to resume an existing upload. First a HEAD request will be sent\n     * to retrieve the offset. If the request fails a new upload will be\n     * created. In the case of a successful response the file will be uploaded.\n     *\n     * @api private\n     */\n\n  }, {\n    key: \"_resumeUpload\",\n    value: function _resumeUpload() {\n      var _this3 = this;\n\n      var xhr = (0, _request.newRequest)();\n      xhr.open(\"HEAD\", this.url, true);\n\n      xhr.onload = function () {\n        if (!inStatusCategory(xhr.status, 200)) {\n          if (_this3.options.resume && inStatusCategory(xhr.status, 400)) {\n            // Remove stored fingerprint and corresponding endpoint,\n            // on client errors since the file can not be found\n            Storage.removeItem(_this3._fingerprint);\n          }\n\n          // If the upload is locked (indicated by the 423 Locked status code), we\n          // emit an error instead of directly starting a new upload. This way the\n          // retry logic can catch the error and will retry the upload. An upload\n          // is usually locked for a short period of time and will be available\n          // afterwards.\n          if (xhr.status === 423) {\n            _this3._emitXhrError(xhr, new Error(\"tus: upload is currently locked; retry later\"));\n            return;\n          }\n\n          if (!_this3.options.endpoint) {\n            // Don't attempt to create a new upload if no endpoint is provided.\n            _this3._emitXhrError(xhr, new Error(\"tus: unable to resume upload (new upload cannot be created without an endpoint)\"));\n            return;\n          }\n\n          // Try to create a new upload\n          _this3.url = null;\n          _this3._createUpload();\n          return;\n        }\n\n        var offset = parseInt(xhr.getResponseHeader(\"Upload-Offset\"), 10);\n        if (isNaN(offset)) {\n          _this3._emitXhrError(xhr, new Error(\"tus: invalid or missing offset value\"));\n          return;\n        }\n\n        var length = parseInt(xhr.getResponseHeader(\"Upload-Length\"), 10);\n        if (isNaN(length)) {\n          _this3._emitXhrError(xhr, new Error(\"tus: invalid or missing length value\"));\n          return;\n        }\n\n        // Upload has already been completed and we do not need to send additional\n        // data to the server\n        if (offset === length) {\n          _this3._emitProgress(length, length);\n          _this3._emitSuccess();\n          return;\n        }\n\n        _this3._offset = offset;\n        _this3._startUpload();\n      };\n\n      xhr.onerror = function (err) {\n        _this3._emitXhrError(xhr, new Error(\"tus: failed to resume upload\"), err);\n      };\n\n      this._setupXHR(xhr);\n      xhr.send(null);\n    }\n\n    /**\n     * Start uploading the file using PATCH requests. The file will be divided\n     * into chunks as specified in the chunkSize option. During the upload\n     * the onProgress event handler may be invoked multiple times.\n     *\n     * @api private\n     */\n\n  }, {\n    key: \"_startUpload\",\n    value: function _startUpload() {\n      var _this4 = this;\n\n      // If the upload has been aborted, we will not send the next PATCH request.\n      // This is important if the abort method was called during a callback, such\n      // as onChunkComplete or onProgress.\n      if (this._aborted) {\n        return;\n      }\n\n      var xhr = (0, _request.newRequest)();\n\n      // Some browser and servers may not support the PATCH method. For those\n      // cases, you can tell tus-js-client to use a POST request with the\n      // X-HTTP-Method-Override header for simulating a PATCH request.\n      if (this.options.overridePatchMethod) {\n        xhr.open(\"POST\", this.url, true);\n        xhr.setRequestHeader(\"X-HTTP-Method-Override\", \"PATCH\");\n      } else {\n        xhr.open(\"PATCH\", this.url, true);\n      }\n\n      xhr.onload = function () {\n        if (!inStatusCategory(xhr.status, 200)) {\n          _this4._emitXhrError(xhr, new Error(\"tus: unexpected response while uploading chunk\"));\n          return;\n        }\n\n        var offset = parseInt(xhr.getResponseHeader(\"Upload-Offset\"), 10);\n        if (isNaN(offset)) {\n          _this4._emitXhrError(xhr, new Error(\"tus: invalid or missing offset value\"));\n          return;\n        }\n\n        _this4._emitProgress(offset, _this4._size);\n        _this4._emitChunkComplete(offset - _this4._offset, offset, _this4._size);\n\n        _this4._offset = offset;\n\n        if (offset == _this4._size) {\n          if (_this4.options.removeFingerprintOnSuccess && _this4.options.resume) {\n            // Remove stored fingerprint and corresponding endpoint. This causes\n            // new upload of the same file must be treated as a different file.\n            Storage.removeItem(_this4._fingerprint);\n          }\n\n          // Yay, finally done :)\n          _this4._emitSuccess();\n          _this4._source.close();\n          return;\n        }\n\n        _this4._startUpload();\n      };\n\n      xhr.onerror = function (err) {\n        // Don't emit an error if the upload was aborted manually\n        if (_this4._aborted) {\n          return;\n        }\n\n        _this4._emitXhrError(xhr, new Error(\"tus: failed to upload chunk at offset \" + _this4._offset), err);\n      };\n\n      // Test support for progress events before attaching an event listener\n      if (\"upload\" in xhr) {\n        xhr.upload.onprogress = function (e) {\n          if (!e.lengthComputable) {\n            return;\n          }\n\n          _this4._emitProgress(start + e.loaded, _this4._size);\n        };\n      }\n\n      this._setupXHR(xhr);\n\n      xhr.setRequestHeader(\"Upload-Offset\", this._offset);\n      xhr.setRequestHeader(\"Content-Type\", \"application/offset+octet-stream\");\n\n      var start = this._offset;\n      var end = this._offset + this.options.chunkSize;\n\n      // The specified chunkSize may be Infinity or the calcluated end position\n      // may exceed the file's size. In both cases, we limit the end position to\n      // the input's total size for simpler calculations and correctness.\n      if (end === Infinity || end > this._size) {\n        end = this._size;\n      }\n\n      xhr.send(this._source.slice(start, end));\n\n      // Emit an progress event when a new chunk begins being uploaded.\n      this._emitProgress(this._offset, this._size);\n    }\n  }]);\n\n  return Upload;\n}();\n\nfunction encodeMetadata(metadata) {\n  if (!Base64.isSupported) {\n    return \"\";\n  }\n\n  var encoded = [];\n\n  for (var key in metadata) {\n    encoded.push(key + \" \" + Base64.encode(metadata[key]));\n  }\n\n  return encoded.join(\",\");\n}\n\n/**\n * Checks whether a given status is in the range of the expected category.\n * For example, only a status between 200 and 299 will satisfy the category 200.\n *\n * @api private\n */\nfunction inStatusCategory(status, category) {\n  return status >= category && status < category + 100;\n}\n\nUpload.defaultOptions = defaultOptions;\n\nexports.default = Upload;","import React from 'react';\r\nimport Head from 'next/head'\r\n\r\nimport { Button } from 'reactstrap';\r\n\r\nconst Uppy = require('@uppy/core')\r\nconst Tus = require('@uppy/tus')\r\nimport Dashboard from '@uppy/react/lib/Dashboard'\r\n// import { Dashboard } from '@uppy/react'\r\n\r\nexport default (props) => {\r\n  return (\r\n    <div>\r\n      <Head>\r\n        <title>Sample Uploader Using Uppy</title>\r\n        <meta charSet='utf-8' />\r\n        <meta name='viewport' content='initial-scale=1.0, width=device-width' />\r\n        <link rel=\"stylesheet\" href=\"/static/css/bootstrap.min.css\" />\r\n        <link rel=\"stylesheet\" href=\"/static/css/style.css\" />\r\n      </Head>\r\n      \r\n      <nav className=\"navbar navbar-expand-md navbar-dark bg-dark fixed-top\">\r\n        <a className=\"navbar-brand\" href=\"#\">Navbar</a>\r\n        <button className=\"navbar-toggler\" type=\"button\" data-toggle=\"collapse\" data-target=\"#navbarsExampleDefault\" aria-controls=\"navbarsExampleDefault\" aria-expanded=\"false\" aria-label=\"Toggle navigation\">\r\n          <span className=\"navbar-toggler-icon\"></span>\r\n        </button>\r\n\r\n        <div className=\"collapse navbar-collapse\" id=\"navbarsExampleDefault\">\r\n          <ul className=\"navbar-nav mr-auto\">\r\n            <li className=\"nav-item active\">\r\n              <a className=\"nav-link\" href=\"#\">Home <span className=\"sr-only\">(current)</span></a>\r\n            </li>\r\n            <li className=\"nav-item\">\r\n              <a className=\"nav-link\" href=\"#\">Link</a>\r\n            </li>\r\n            <li className=\"nav-item\">\r\n              <a className=\"nav-link disabled\" href=\"#\">Disabled</a>\r\n            </li>\r\n            <li className=\"nav-item dropdown\">\r\n              <a className=\"nav-link dropdown-toggle\" href=\"http://example.com\" id=\"dropdown01\" data-toggle=\"dropdown\" aria-haspopup=\"true\" aria-expanded=\"false\">Dropdown</a>\r\n              <div className=\"dropdown-menu\" aria-labelledby=\"dropdown01\">\r\n                <a className=\"dropdown-item\" href=\"#\">Action</a>\r\n                <a className=\"dropdown-item\" href=\"#\">Another action</a>\r\n                <a className=\"dropdown-item\" href=\"#\">Something else here</a>\r\n              </div>\r\n            </li>\r\n          </ul>\r\n        </div>\r\n      </nav>\r\n\r\n    <main role=\"main\" className=\"container\">\r\n\r\n      <div className=\"starter-template\">\r\n        <h1>Bootstrap starter template</h1>\r\n        <p className=\"lead\">Use this document as a way to quickly start any new project. All you get is this text and a mostly barebones HTML document.</p>\r\n        <Dashboard/>\r\n      </div>\r\n\r\n    </main>\r\n\r\n\r\n    </div>\r\n  );\r\n};"],"mappings":";;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACtGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;AC1HA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;AChFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;ACbA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;ACrgBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;ACjBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;ACPA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;ACvCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACpBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACpHA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AACA,WAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;AC9CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACfA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACtBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;AC3CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;AC7CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACzCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACfA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACpCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;ACrlBA;AACA;AAEA;AACA;AACA;AACA;AAAA;AACA;AAAA;AACA;AAEA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAOA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAQA;;;;;;;;;;;;;;;;;;;;;;;A","sourceRoot":""}